<html>
<head>
  <title>Erik Deno</title>
  <link rel="stylesheet" href="https://unpkg.com/mvp.css">
  <link rel="shortcut icon" sizes="192x192" href="/profile.png">
  <link rel="apple-touch-icon" sizes="192x192" href="/profile.png">
  <style>
    #graph {
      height: 95vh;
      max-width: 95vw;
    }

    #graph svg {
      max-height: 100%;
      max-width: 100%;
    }
  </style>
</head>
<body>
<main>
  <h1>Eriks Deno node <img src="/profile.png" width="48"/></h1>

    <h2>Metadata</h2>
    <div class="widget-erik-boot-describe-self"></div>
    <script src="https://ddd-erik-boot.herokuapp.com/widget-describe-self.js"></script>

    <h2>Known nodes</h2>
    <div class="widget-erik-boot-own-nodes"></div>
    <script src="https://ddd-erik-boot.herokuapp.com/widget-own-nodes.js"></script>

    <h2>Graph of the network (<a href="network.svg">open separately</a>)</h2>
    <div id="graph">
      <p>Loading...</p>
    </div>

  <script>
    fetch("/network.svg")
      .then(res => res.text())
      .then(text => {
        document.getElementById("graph").innerHTML = text
          .replace(/<svg width="[0-9]+pt"/, "<svg")
          .replace(/<svg height="[0-9]+pt"/, "<svg");
      })
      .catch(err => {
        document.getElementById("graph").innerHTML = `<p>Oops, an error happened!</p>`;
      });
  </script>
</main>
</body>
</html>
